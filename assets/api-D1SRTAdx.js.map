{"version":3,"file":"api-D1SRTAdx.js","sources":["../../src/api/api.js"],"sourcesContent":["const API_KEY = import.meta.env.VITE_API_KEY;\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst DEFAULTS = { language: 'en-US', region: 'TR' };\n\n\nfunction buildUrl(path, params = {}) {\n  const url = new URL(`${BASE_URL}${path}`);\n  url.searchParams.set('api_key', API_KEY);\n\n  const all = { ...DEFAULTS, ...params };\n  Object.entries(all).forEach(([k, v]) => {\n    if (v !== undefined && v !== null && v !== '') url.searchParams.set(k, v);\n  });\n  return url.toString();\n}\n\nexport async function fetchPopularMovies(page = 1) {\n  const res = await fetch(buildUrl('/movie/popular', { page }));\n  return res.json();\n}\n\nexport async function fetchDailyTrending() {\n  const res = await fetch(buildUrl('/trending/movie/day'));\n  return res.json();\n}\n\nexport async function fetchWeeklyMovies(page = 1) {\n  const res = await fetch(buildUrl('/trending/movie/week', { page }));\n  return res.json();\n}\n\nexport async function fetchUpcomingMovies(page = 1) {\n  const res = await fetch(buildUrl('/movie/upcoming', { page }));\n  return res.json();\n}\n\nexport async function fetchMovieDetails(movieId) {\n  const res = await fetch(buildUrl(`/movie/${movieId}`));\n  return res.json();\n}\n\nexport async function fetchMovieVideos(movieId) {\n  const res = await fetch(buildUrl(`/movie/${movieId}/videos`));\n  return res.json();\n}\n\nexport async function searchMovies(query, year = '', page = 1) {\n  const res = await fetch(\n    buildUrl('/search/movie', {\n      query: encodeURIComponent(query),\n      year,\n      page,\n      include_adult: false\n    })\n  );\n  return res.json();\n}\n\nexport async function fetchGenres() {\n  const res = await fetch(buildUrl('/genre/movie/list'));\n  return res.json();\n}\n\nexport async function fetchMoviesBetween(startDate, endDate, { region = DEFAULTS.region } = {}) {\n  const res = await fetch(\n    buildUrl('/discover/movie', {\n      sort_by: 'popularity.desc',\n      with_release_type: '2|3', \n      region,\n      'primary_release_date.gte': startDate,\n      'primary_release_date.lte': endDate\n    })\n  );\n  return res.json();\n}"],"names":["API_KEY","BASE_URL","DEFAULTS","buildUrl","path","params","url","all","k","v","fetchWeeklyMovies","page","fetchMovieDetails","movieId","fetchGenres","fetchMoviesBetween","startDate","endDate","region"],"mappings":"AAAA,MAAMA,EAAU,mCACVC,EAAW,+BACXC,EAAW,CAAE,SAAU,QAAS,OAAQ,IAAK,EAGnD,SAASC,EAASC,EAAMC,EAAS,GAAI,CACnC,MAAMC,EAAM,IAAI,IAAI,GAAGL,CAAQ,GAAGG,CAAI,EAAE,EACpCE,EAAA,aAAa,IAAI,UAAWN,CAAO,EAEvC,MAAMO,EAAM,CAAE,GAAGL,EAAU,GAAGG,CAAO,EAC9B,cAAA,QAAQE,CAAG,EAAE,QAAQ,CAAC,CAACC,EAAGC,CAAC,IAAM,CACfA,GAAM,MAAQA,IAAM,IAAQH,EAAA,aAAa,IAAIE,EAAGC,CAAC,CAAA,CACzE,EACMH,EAAI,UACb,CAYsB,eAAAI,EAAkBC,EAAO,EAAG,CAEhD,OADY,MAAM,MAAMR,EAAS,uBAAwB,CAAE,KAAAQ,CAAM,CAAA,CAAC,GACvD,MACb,CAOA,eAAsBC,EAAkBC,EAAS,CAE/C,OADY,MAAM,MAAMV,EAAS,UAAUU,CAAO,EAAE,CAAC,GAC1C,MACb,CAmBA,eAAsBC,GAAc,CAElC,OADY,MAAM,MAAMX,EAAS,mBAAmB,CAAC,GAC1C,MACb,CAEsB,eAAAY,EAAmBC,EAAWC,EAAS,CAAE,OAAAC,EAAShB,EAAS,MAAW,EAAA,GAAI,CAU9F,OATY,MAAM,MAChBC,EAAS,kBAAmB,CAC1B,QAAS,kBACT,kBAAmB,MACnB,OAAAe,EACA,2BAA4BF,EAC5B,2BAA4BC,CAAA,CAC7B,CAAA,GAEQ,MACb"}