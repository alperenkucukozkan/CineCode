{"version":3,"file":"header-ByQSFucR.js","sources":["../../src/js/header.js"],"sourcesContent":["function initHeader() {\n  initMenu('#menuLinks', 'menuLinks:active');\n  initMenu('#links', 'menuLinks:active');\n  initSidebar('#menu', '.sidebar', '.sidebar-backdrop');\n  initTheme('#toggle', '.theme-toggle use', {\n    navbar: 'header',\n    menuButton: '#menu',\n    modal: '.sidebar',\n    backdrop: '.sidebar-backdrop',\n    links: '#links',\n    logoText: '.logo-text',\n    body: 'body',\n  });\n}\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initHeader);\n} else {\n  initHeader();\n}\nfunction initMenu(selector, storageKey) {\n  const menu = document.querySelector(selector);\n  console;\n  if (!menu) return;\n  const savedKey = localStorage.getItem(storageKey);\n  if (savedKey) {\n    const activeLink = menu.querySelector(`a[href=\"${savedKey}\"]`);\n    const li = activeLink?.closest('li');\n    if (li) {\n      menu.querySelector('.active')?.classList.remove('active');\n      li.classList.add('active');\n    }\n  }\n\n  menu.addEventListener('click', e => {\n    const li = e.target.closest('li');\n    if (!li || !menu.contains(li)) return;\n\n    menu.querySelector('.active')?.classList.remove('active');\n    li.classList.add('active');\n\n    const key = li.querySelector('a')?.getAttribute('href');\n    if (key) localStorage.setItem(storageKey, key);\n  });\n}\n\nfunction initSidebar(buttonSel, modalSel, backdropSel) {\n  const button = document.querySelector(buttonSel);\n  const modal = document.querySelector(modalSel);\n  const backdrop = document.querySelector(backdropSel);\n  if (!button || !modal || !backdrop) return;\n\n  button.addEventListener('click', () => {\n    console.log('clicked');\n    const visible = modal.style.display === 'flex';\n    modal.style.display = visible ? 'none' : 'flex';\n    backdrop.style.display = visible ? 'none' : 'block';\n    button.style.display = visible ? '' : '';\n\n    const closeOnBackdrop = e => {\n      if (e.target === backdrop) {\n        modal.style.display = 'none';\n        backdrop.style.display = 'none';\n        backdrop.removeEventListener('click', closeOnBackdrop);\n      }\n    };\n    backdrop.addEventListener('click', closeOnBackdrop);\n  });\n}\n\nfunction initTheme(toggleSel, iconSel, refs = {}) {\n  const toggle = document.querySelector(toggleSel);\n  const icon = document.querySelector(iconSel);\n  const { navbar, menuButton, modal, backdrop, links, logoText, body } =\n    getRefs(refs);\n\n  const setTheme = theme => {\n    document.body.className = theme;\n    localStorage.setItem('theme', theme);\n\n    const isDark = theme === 'dark-theme';\n    if (toggle) toggle.checked = isDark;\n    if (body) body.style.backgroundColor = isDark ? '#121212' : '#fff';\n    if (menuButton) menuButton.style.color = isDark ? '#b7b7b7' : '#595959';\n    if (navbar) navbar.style.backgroundColor = isDark ? '#000' : '#fff';\n    if (modal) modal.style.backgroundColor = isDark ? '#000' : '#f8f8f8';\n    if (logoText) logoText.style.color = isDark ? '#fff' : '#282828';\n    if (links) {\n      links.querySelectorAll('a').forEach(a => {\n        a.style.color = isDark ? '#fff' : '#111';\n        if (a.closest('li')?.classList.contains('active')) {\n          a.style.color = '#f87719';\n        }\n      });\n    }\n    if (modal) {\n      modal.querySelectorAll('a').forEach(a => {\n        a.style.color = isDark ? '#fff' : '#111';\n        if (a.closest('li')?.classList.contains('active')) {\n          a.style.color = '#f87719';\n        }\n      });\n    }\n\n    if (backdrop) {\n      backdrop.style.backgroundColor = isDark\n        ? 'rgba(255,255,255,0.2)'\n        : 'rgba(0,0,0,0.2)';\n      backdrop.style.zIndex = '1';\n    }\n\n    icon?.setAttribute(\n      'href',\n      `./img/icon.svg#${isDark ? 'icon-Vector' : 'icon-Sun'}`\n    );\n  };\n\n  setTheme(localStorage.getItem('theme') || 'light-theme');\n\n  toggle?.addEventListener('change', () =>\n    setTheme(toggle.checked ? 'dark-theme' : 'light-theme')\n  );\n}\nfunction getRefs(refs) {\n  const obj = {};\n  for (const key in refs) {\n    const el = document.querySelector(refs[key]);\n    obj[key] = el || null;\n  }\n  return obj;\n}\n"],"names":["initHeader","initMenu","initSidebar","initTheme","selector","storageKey","_a","menu","savedKey","activeLink","li","e","_b","key","buttonSel","modalSel","backdropSel","button","modal","backdrop","visible","closeOnBackdrop","toggleSel","iconSel","refs","toggle","icon","navbar","menuButton","links","logoText","body","getRefs","setTheme","theme","isDark","a","obj","el"],"mappings":"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"}