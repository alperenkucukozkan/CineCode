{"version":3,"file":"index-DF2XfgTw.js","sources":["../../src/js/footer.js","../../src/js/header.js","../../src/api/api.js","../../src/js/modal.js","../../src/js/scrollup.js","../../src/js/upcoming.js","../../src/js/weekly.js","../../src/js/catalog.js"],"sourcesContent":["const students = [\n  {\n    name: \"Alperen KÃ¼Ã§Ã¼kÃ¶zkan\",\n    role: \"Team Lead\",\n    img: \"../img/alperen.jpg\",\n    github: \"https://github.com/alperenkucukozkan\",\n    linkedin: \"https://www.linkedin.com/in/alperen-k%C3%BC%C3%A7%C3%BCk%C3%B6zkan-b9b30625a/\"\n  },\n  {\n    name: \"TuÄŸba BostancÄ±\",\n    role: \"Scrum Master\",\n    img: \"../img/tugba.jpg\",\n    github: \"https://github.com/tugbabostanci\",\n    linkedin: \"https://linkedin.com/in/tuÄŸba-bostancÄ±-040900115\"\n  },\n  {\n    name: \"Esra Aras\",\n    role: \"Developer\",\n    img: \"../img/esra.jpg\",\n    github: \"https://github.com/Esraras\",\n    linkedin: \"https://linkedin.com/in/esraaras/\"\n  },\n  {\n    name: \"NurgÃ¼l Ã‡oksaÄŸlamdemir\",\n    role: \"Developer\",\n    img: \"../img/nurgul.jpg\",\n    github: \"https://github.com/nurgul4261\",\n    linkedin: \"https://linkedin.com/in/nurg%C3%BCl-%C3%A7oksa%C4%9Flamdemir-423b0a382/\"\n  },\n  {\n    name: \"Yunus SarÄ±\",\n    role: \"Developer\",\n    img: \"../img/yunus.jpg\",\n    github: \"https://github.com/yunsari\",\n    linkedin: \"https://linkedin.com/in/yunus-sar%C4%B1-3713a9242/\"\n  },\n  {\n    name: \"Furkan Ã‡elik\",\n    role: \"Developer\",\n    img: \"../img/furkan.jpg\",\n    github: \"https://github.com/furkangoit\",\n    linkedin: \"https://linkedin.com/in/furkan-%C3%A7elik-a6399632b/\"\n  },\n  {\n    name: \"Hilmi Åžafak\",\n    role: \"Developer\",\n    img: \"../img/hilmi.jpg\",\n    github: \"https://github.com/hilmisafak\",\n    linkedin: \"https://linkedin.com/in/hilmi-safak/\"\n  },\n  {\n    name: \"Baran TaÅŸÃ§Ä±\",\n    role: \"Developer\",\n    img: \"../img/baran.jpg\",\n    github: \"https://github.com/BaranTascii\",\n    linkedin: \"https://www.linkedin.com/in/baran-tasci/\"\n  },\n  {\n    name: \"Emre ÃœrÃ¼n\",\n    role: \"Developer\",\n    img: \"../img/emre.jpg\",\n    github: \"https://github.com/Emre-Urun\",\n    linkedin: \"#\"\n  },\n  {\n    name: \"Ali Kemal Demir\",\n    role: \"Developer\",\n    img: \"../img/alikemal.jpg\",\n    github: \"https://github.com/Tirnerf\",\n    linkedin: \"https://linkedin.com/in/akdemir77/\"\n  }\n];\n\nfunction createStudentItem(student) {\n  return `\n    <li class=\"student-item\">\n      <img class=\"student-photo\" src=\"${student.img}\" alt=\"${student.name}\" />\n      <div class=\"student-info\">\n        <h3>${student.name}</h3>\n        <p>${student.role}</p>\n        <a class=\"footer-icon\" href=\"${student.github}\" target=\"_blank\" aria-label=\"GitHub\">\n          <svg class=\"info-icon\" width=\"30\" height=\"30\">\n            <use xlink:href=\"../img/icon.svg#icon-github\"></use>\n          </svg>\n        </a>\n        ${student.linkedin !== \"#\" ? `\n        <a class=\"footer-icon\" href=\"${student.linkedin}\" target=\"_blank\" aria-label=\"LinkedIn\">\n          <svg class=\"info-icon\" width=\"30\" height=\"30\">\n            <use xlink:href=\"../img/icon.svg#icon-linkedin\"></use>\n          </svg>\n        </a>` : \"\"}\n      </div>\n    </li>\n  `;\n}\n\nfunction ensureFooter() {\n  let footer = document.querySelector('footer.footer');\n  if (!footer) {\n    footer = document.createElement('footer');\n    footer.className = 'footer goit-footer';\n    document.body.appendChild(footer);\n  } else {\n    footer.classList.add('goit-footer');\n  }\n  footer.innerHTML = `\n    <p class=\"footer-description\">\n      Â© 2025 | All Rights Reserved | Developed with <span aria-label=\"love\">ðŸ§¡</span> by <button class=\"goit-students\" id=\"openFooterModalBtn\" type=\"button\">GoIT Students</button>\n    </p>\n  `;\n  return footer;\n}\n\nfunction renderFooterModal() {\n  let modal = document.getElementById(\"footerModal\");\n  if (modal) return modal;\n  modal = document.createElement(\"div\");\n  modal.className = \"footer-modal-overlay\";\n  modal.id = \"footerModal\";\n  modal.innerHTML = `\n    <div class=\"footer-modal-content\">\n      <span class=\"footer-modal-close-btn\" id=\"closeFooterModalBtn\">&times;</span>\n      <h2 class=\"footer-modal-title\">PROJECT TEAM</h2>\n      <ul class=\"student-list\">\n        ${students.map(createStudentItem).join(\"\")}\n      </ul>\n    </div>\n  `;\n  document.body.appendChild(modal);\n  return modal;\n}\n\nfunction applyFooterModalResponsiveStyles() {\n  const modalContent = document.querySelector(\".footer-modal-content\");\n  const footer = document.querySelector(\".footer\");\n  if (!modalContent || !footer) return;\n  if (window.matchMedia(\"(max-width: 768px)\").matches) {\n    modalContent.style.maxWidth = \"300px\";\n    footer.style.paddingBottom = \"100px\";\n  } else if (window.matchMedia(\"(max-width: 1279px)\").matches) {\n    modalContent.style.maxWidth = \"720px\";\n    footer.style.paddingBottom = \"80px\";\n  } else {\n    modalContent.style.maxWidth = \"1200px\";\n    footer.style.paddingBottom = \"50px\";\n  }\n}\n\nfunction initFooterModal() {\n  ensureFooter();\n  const modal = renderFooterModal();\n  const modalContent = modal.querySelector(\".footer-modal-content\");\n  const openBtn = document.getElementById(\"openFooterModalBtn\");\n  const closeBtn = document.getElementById(\"closeFooterModalBtn\");\n\n  if (!openBtn || !closeBtn) {\n    console.warn(\"Modal tetikleyici veya kapatma butonu bulunamadÄ±.\");\n    return;\n  }\n\n  openBtn.addEventListener(\"click\", () => {\n    modal.classList.add(\"active\");\n    document.body.style.overflow = \"hidden\";\n  });\n\n  closeBtn.addEventListener(\"click\", () => {\n    modal.classList.remove(\"active\");\n    document.body.style.overflow = \"\";\n  });\n\n  modal.addEventListener(\"click\", (e) => {\n    if (!modalContent.contains(e.target)) {\n      modal.classList.remove(\"active\");\n      document.body.style.overflow = \"\";\n    }\n  });\n\n  document.addEventListener(\"keydown\", (e) => {\n    if (e.key === \"Escape\") {\n      modal.classList.remove(\"active\");\n      document.body.style.overflow = \"\";\n    }\n  });\n\n  applyFooterModalResponsiveStyles();\n  window.addEventListener(\"resize\", applyFooterModalResponsiveStyles);\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener(\"DOMContentLoaded\", initFooterModal, { once: true });\n} else {\n  initFooterModal();\n}","function initHeader() {\n  initMenu('#menuLinks', 'menuLinks:active');\n  initMenu('#links', 'menuLinks:active');\n  initSidebar('#menu', '.sidebar', '.sidebar-backdrop');\n  initTheme('#toggle', '.theme-toggle use', {\n    navbar: 'header',\n    menuButton: '#menu',\n    modal: '.sidebar',\n    backdrop: '.sidebar-backdrop',\n    links: '#links',\n    logoText: '.logo-text',\n    body: 'body',\n  });\n}\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initHeader);\n} else {\n  initHeader();\n}\nfunction initMenu(selector, storageKey) {\n  const menu = document.querySelector(selector);\n  console;\n  if (!menu) return;\n  const savedKey = localStorage.getItem(storageKey);\n  if (savedKey) {\n    const activeLink = menu.querySelector(`a[href=\"${savedKey}\"]`);\n    const li = activeLink?.closest('li');\n    if (li) {\n      menu.querySelector('.active')?.classList.remove('active');\n      li.classList.add('active');\n    }\n  }\n\n  menu.addEventListener('click', e => {\n    const li = e.target.closest('li');\n    if (!li || !menu.contains(li)) return;\n\n    menu.querySelector('.active')?.classList.remove('active');\n    li.classList.add('active');\n\n    const key = li.querySelector('a')?.getAttribute('href');\n    if (key) localStorage.setItem(storageKey, key);\n  });\n}\n\nfunction initSidebar(buttonSel, modalSel, backdropSel) {\n  const button = document.querySelector(buttonSel);\n  const modal = document.querySelector(modalSel);\n  const backdrop = document.querySelector(backdropSel);\n  if (!button || !modal || !backdrop) return;\n\n  button.addEventListener('click', () => {\n    console.log('clicked');\n    const visible = modal.style.display === 'flex';\n    modal.style.display = visible ? 'none' : 'flex';\n    backdrop.style.display = visible ? 'none' : 'block';\n    button.style.display = visible ? '' : '';\n\n    const closeOnBackdrop = e => {\n      if (e.target === backdrop) {\n        modal.style.display = 'none';\n        backdrop.style.display = 'none';\n        backdrop.removeEventListener('click', closeOnBackdrop);\n      }\n    };\n    backdrop.addEventListener('click', closeOnBackdrop);\n  });\n}\n\nfunction initTheme(toggleSel, iconSel, refs = {}) {\n  const toggle = document.querySelector(toggleSel);\n  const icon = document.querySelector(iconSel);\n  const { navbar, menuButton, modal, backdrop, links, logoText, body } =\n    getRefs(refs);\n\n  const setTheme = theme => {\n    document.body.className = theme;\n    localStorage.setItem('theme', theme);\n\n    const isDark = theme === 'dark-theme';\n    if (toggle) toggle.checked = isDark;\n    if (body) body.style.backgroundColor = isDark ? '#121212' : '#fff';\n    if (menuButton) menuButton.style.color = isDark ? '#b7b7b7' : '#595959';\n    if (navbar) navbar.style.backgroundColor = isDark ? '#000' : '#fff';\n    if (modal) modal.style.backgroundColor = isDark ? '#000' : '#f8f8f8';\n    if (logoText) logoText.style.color = isDark ? '#fff' : '#282828';\n    if (links) {\n      links.querySelectorAll('a').forEach(a => {\n        a.style.color = isDark ? '#fff' : '#111';\n        if (a.closest('li')?.classList.contains('active')) {\n          a.style.color = '#f87719';\n        }\n      });\n    }\n    if (modal) {\n      modal.querySelectorAll('a').forEach(a => {\n        a.style.color = isDark ? '#fff' : '#111';\n        if (a.closest('li')?.classList.contains('active')) {\n          a.style.color = '#f87719';\n        }\n      });\n    }\n\n    if (backdrop) {\n      backdrop.style.backgroundColor = isDark\n        ? 'rgba(255,255,255,0.2)'\n        : 'rgba(0,0,0,0.2)';\n      backdrop.style.zIndex = '1';\n    }\n\n    icon?.setAttribute(\n      'href',\n      `../img/icon.svg#${isDark ? 'icon-Vector' : 'icon-Sun'}`\n    );\n  };\n\n  setTheme(localStorage.getItem('theme') || 'light-theme');\n\n  toggle?.addEventListener('change', () =>\n    setTheme(toggle.checked ? 'dark-theme' : 'light-theme')\n  );\n}\nfunction getRefs(refs) {\n  const obj = {};\n  for (const key in refs) {\n    const el = document.querySelector(refs[key]);\n    obj[key] = el || null;\n  }\n  return obj;\n}\n","const API_KEY = import.meta.env.VITE_API_KEY;\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst DEFAULTS = { language: 'en-US', region: 'TR' };\n\n\nfunction buildUrl(path, params = {}) {\n  const url = new URL(`${BASE_URL}${path}`);\n  url.searchParams.set('api_key', API_KEY);\n\n  const all = { ...DEFAULTS, ...params };\n  Object.entries(all).forEach(([k, v]) => {\n    if (v !== undefined && v !== null && v !== '') url.searchParams.set(k, v);\n  });\n  return url.toString();\n}\n\nexport async function fetchPopularMovies(page = 1) {\n  const res = await fetch(buildUrl('/movie/popular', { page }));\n  return res.json();\n}\n\nexport async function fetchDailyTrending() {\n  const res = await fetch(buildUrl('/trending/movie/day'));\n  return res.json();\n}\n\nexport async function fetchWeeklyMovies(page = 1) {\n  const res = await fetch(buildUrl('/trending/movie/week', { page }));\n  return res.json();\n}\n\nexport async function fetchUpcomingMovies(page = 1) {\n  const res = await fetch(buildUrl('/movie/upcoming', { page }));\n  return res.json();\n}\n\nexport async function fetchMovieDetails(movieId) {\n  const res = await fetch(buildUrl(`/movie/${movieId}`));\n  return res.json();\n}\n\nexport async function fetchMovieVideos(movieId) {\n  const res = await fetch(buildUrl(`/movie/${movieId}/videos`));\n  return res.json();\n}\n\nexport async function searchMovies(query, year = '', page = 1) {\n  const res = await fetch(\n    buildUrl('/search/movie', {\n      query: encodeURIComponent(query),\n      year,\n      page,\n      include_adult: false\n    })\n  );\n  return res.json();\n}\n\nexport async function fetchGenres() {\n  const res = await fetch(buildUrl('/genre/movie/list'));\n  return res.json();\n}\n\nexport async function fetchMoviesBetween(startDate, endDate, { region = DEFAULTS.region } = {}) {\n  const res = await fetch(\n    buildUrl('/discover/movie', {\n      sort_by: 'popularity.desc',\n      with_release_type: '2|3', \n      region,\n      'primary_release_date.gte': startDate,\n      'primary_release_date.lte': endDate\n    })\n  );\n  return res.json();\n}","// API'den film detaylarÄ±nÄ± alma\nimport { fetchMovieDetails } from '../api/api.js';\n\n// Local Storage iÃ§in kullanÄ±lacak anahtar ismi\nconst LOCAL_STORAGE_KEY = 'myLibraryMovies_v1';\n\n// TMDB API'den gelen gÃ¶rsellerin temel URL'si\nconst IMAGE_BASE = 'https://image.tmdb.org/t/p/w500';\n\n// Oy veya popÃ¼lerlik deÄŸerlerini yuvarlama fonk\nconst roundOneDecimal = value => {\n  const n = Number(value);\n  if (Number.isNaN(n)) return 0.0;\n  return Math.round(n * 10) / 10;\n};\n\n// Local Storage'dan kayÄ±tlÄ± veriyi okuma fonk\nconst readLibraryFromStorage = () => {\n  try {\n    const raw = localStorage.getItem(LOCAL_STORAGE_KEY);\n    if (!raw) return {}; // EÄŸer veri yoksa boÅŸ obje dÃ¶ner\n    return JSON.parse(raw);\n  } catch (error) {\n    console.error('Local Storage okuma hatasÄ±:', error);\n    return {};\n  }\n};\n\n// Local Storage'a yeni film ekleme fonk\nconst writeLibraryToStorage = obj => {\n  try {\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(obj));\n  } catch (error) {\n    console.error('Local Storage ekleme hatasÄ±:', error);\n  }\n};\n\n// Bir film kÃ¼tÃ¼phanede var mÄ± kontrol eden fonk (id Ã¼zerinden)\nconst isInLibrary = movieId => {\n  const lib = readLibraryFromStorage();\n  return Boolean(lib[movieId]);\n};\n\n// Yeni bir filmi kÃ¼tÃ¼phaneye ekleme fonk\nconst addToLibrary = movieObj => {\n  if (!movieObj || !movieObj.id) return;\n  const lib = readLibraryFromStorage();\n  lib[movieObj.id] = movieObj;\n  writeLibraryToStorage(lib);\n};\n\n// filmi kÃ¼tÃ¼phaneden kaldÄ±rma fonk\nconst removeFromLibrary = movieId => {\n  const lib = readLibraryFromStorage();\n  if (lib[movieId]) {\n    delete lib[movieId];\n    writeLibraryToStorage(lib);\n  }\n};\n\n// Film posteri iÃ§in URL oluÅŸturma\nconst buildImageUrl = path => {\n  if (!path) return '';\n  return `${IMAGE_BASE}${path}`;\n};\n\n// DOM ELEMANLARINI SEÃ‡ME\n\nconst modalEl = document.querySelector('.modal');\nconst closeBtnEl = document.querySelector('.close-icon');\nconst posterImgEl = document.querySelector('.modal-img');\nconst titleEl = document.querySelector('.movie-title');\nconst votesPuanEl = document.querySelector('.votes-puanlama');\nconst votesCountEl = document.querySelector('.votes-oysayisi');\nconst popularityEl = document.querySelector('.popularity-value');\nconst genreEl = document.querySelector('.genre-value');\nconst aboutEl = document.querySelector('.about-value');\nconst libraryBtn = document.querySelector('.modal-add-button');\n\n//  Modal AÃ§/Kapat Ä°ÅŸlemleri\n\nlet escHandler = null;\nlet backdropHandler = null;\nlet currentMovieData = null; // Åžu anda aÃ§Ä±k olan filmin detaylarÄ±\n\n// Modal aÃ§ma fonksiyonu\nexport const openModal = () => {\n  if (!modalEl) return;\n  modalEl.classList.add('is-open');\n  modalEl.setAttribute('aria-hidden', 'false');\n\n  // ESC tuÅŸuna basÄ±ldÄ±ÄŸÄ±nda modal kapansÄ±n\n  escHandler = e => {\n    if (e.key === 'Escape') {\n      closeModal();\n    }\n  };\n  document.addEventListener('keydown', escHandler);\n\n  // modal dÄ±ÅŸÄ±nda bir yere tÄ±klanÄ±rsa modal kapansÄ±n\n  backdropHandler = e => {\n    if (e.target === modalEl) {\n      closeModal();\n    }\n  };\n  modalEl.addEventListener('click', backdropHandler);\n};\n\n// Modal kapama fonk\nexport const closeModal = () => {\n  if (!modalEl) return;\n  modalEl.classList.remove('is-open');\n  modalEl.setAttribute('aria-hidden', 'true');\n  currentMovieData = null;\n\n  // ESC ve tÄ±klama eventlerini temizleme\n  if (escHandler) document.removeEventListener('keydown', escHandler);\n  if (backdropHandler) modalEl.removeEventListener('click', backdropHandler);\n};\n\n// Kapatma ikonuna tÄ±klanÄ±rsa modal kapanÄ±r\nif (closeBtnEl) {\n  closeBtnEl.addEventListener('click', e => {\n    e.stopPropagation();\n    closeModal();\n  });\n}\n\n// --------------------Modal Ä°Ã§eriÄŸini GÃ¼ncelleme-------------------\n\n// KÃ¼tÃ¼phaneye ekleme/kaldÄ±rma butonunun metnini gÃ¼ncelleme\nconst updateLibraryButton = movieId => {\n  if (!libraryBtn) return;\n  const inLib = isInLibrary(movieId);\n  libraryBtn.textContent = inLib\n    ? 'Remove from my Library'\n    : 'Add to my Library';\n  libraryBtn.dataset.inLibrary = inLib ? 'true' : 'false';\n  libraryBtn.dataset.movieId = movieId;\n};\n\n// Ana render fonksiyonu â€” film bilgilerini modal iÃ§ine yerleÅŸtirme\nexport const renderMovieInModal = movie => {\n  if (!movie) return;\n  currentMovieData = movie;\n\n  // Poster alanÄ±\n  const posterPath = movie.poster_path || movie.backdrop_path || '';\n  const posterUrl = buildImageUrl(posterPath);\n  if (posterImgEl) {\n    if (posterUrl) {\n      posterImgEl.src = posterUrl;\n      posterImgEl.alt = movie.title || movie.name || 'Movie Poster';\n    } else {\n      posterImgEl.src = '';\n      posterImgEl.alt = 'Poster not available';\n    }\n  }\n\n  //  Film baÅŸlÄ±ÄŸÄ±\n  if (titleEl) titleEl.textContent = movie.title || movie.name || 'No title';\n\n  //  Oy ortalamasÄ±\n  if (votesPuanEl) {\n    const rounded = roundOneDecimal(movie.vote_average ?? 0);\n    votesPuanEl.textContent = rounded.toFixed(1);\n  }\n\n  //  Toplam oy sayÄ±sÄ±\n  if (votesCountEl) votesCountEl.textContent = movie.vote_count ?? 0;\n\n  //  PopÃ¼lerlik deÄŸeri\n  if (popularityEl) {\n    const roundedPop = roundOneDecimal(movie.popularity ?? 0);\n    popularityEl.textContent = roundedPop.toFixed(1);\n  }\n\n  //  TÃ¼r bilgisi\n  if (genreEl) {\n    let genreText = '-';\n    if (Array.isArray(movie.genres) && movie.genres.length > 0) {\n      genreText = movie.genres\n        .map(g => g.name)\n        .slice(0, 3)\n        .join(', ');\n    } else if (movie.genre_ids && Array.isArray(movie.genre_ids)) {\n      genreText = movie.genre_ids.join(', ');\n    }\n    genreEl.textContent = genreText;\n  }\n\n  // Film Ã¶zeti (about)\n  if (aboutEl) {\n    aboutEl.textContent =\n      movie.overview || movie.description || 'No description available.';\n  }\n\n  // Library butonunu gÃ¼ncelle\n  updateLibraryButton(movie.id);\n};\n\n// Library Buton TÄ±klamasÄ±\n\nif (libraryBtn) {\n  libraryBtn.addEventListener('click', async e => {\n    e.preventDefault();\n\n    const movieId =\n      libraryBtn.dataset.movieId || (currentMovieData && currentMovieData.id);\n    if (!movieId) return;\n\n    const inLib = isInLibrary(movieId);\n\n    // EÄŸer film zaten kÃ¼tÃ¼phanedeyse kaldÄ±r\n    if (inLib) {\n      removeFromLibrary(movieId);\n      updateLibraryButton(movieId);\n      return;\n    }\n\n    // EÄŸer film detaylarÄ± eksikse API'den Ã§ek\n    let movie = currentMovieData;\n    if (!movie || String(movieId) !== String(movie.id)) {\n      try {\n        movie = await fetchMovieDetails(movieId);\n      } catch (error) {\n        console.error('fetchMovieDetails fonksiyonu hatasÄ±:', error);\n        return;\n      }\n    }\n\n    // Kaydedilecek film objesini hazÄ±rlama\n    const toStore = {\n      id: movie.id,\n      title: movie.title || movie.name || '',\n      poster_path: movie.poster_path || '',\n      vote_average: movie.vote_average ?? 0,\n      vote_count: movie.vote_count ?? 0,\n      popularity: movie.popularity ?? 0,\n      genres: movie.genres ?? movie.genre_ids ?? [],\n      overview: movie.overview || '',\n      savedAt: new Date().toISOString(),\n    };\n\n    // Local Storageâ€™a ekle ve butonu gÃ¼ncelle\n    addToLibrary(toStore);\n    updateLibraryButton(movieId);\n  });\n}\n","\n    document.addEventListener('DOMContentLoaded', () => {\n      const btn = document.querySelector('.button-up');\n      \n     \n      window.addEventListener('scroll', () => {\n        if (window.pageYOffset > 300) {\n          btn.classList.add('visible');\n        } else {\n          btn.classList.remove('visible');\n        }\n      });\n      \n      \n      \n      btn.addEventListener('click', () => {\n        window.scrollTo({\n          top: 0,\n          behavior: 'smooth'\n        });\n      });\n    });","import { fetchGenres, fetchMoviesBetween } from '../api/api.js';\n\nconst upcomingContainer = document.getElementById('upcoming-content');\nif (!upcomingContainer) {\n} else {\n  const now = new Date();\nconst year = now.getFullYear();\nconst month = String(now.getMonth() + 1).padStart(2, '0');\nconst lastDay = new Date(year, now.getMonth() + 1, 0).getDate();\n\nconst startDate = `${year}-${month}-01`;\nconst endDate = `${year}-${month}-${lastDay}`;\n\n  let GENRES = [];\n\n  function getLibrary() {\n    return JSON.parse(localStorage.getItem('library')) || [];\n  }\n\n  function isInLibrary(id) {\n    return getLibrary().includes(id);\n  }\n\n  function toggleLibrary(movie, btn) {\n  let library = JSON.parse(localStorage.getItem('library')) || [];\n  const inLibrary = library.some(item => item.id === movie.id);\n\n  if (inLibrary) {\n    library = library.filter(item => item.id !== movie.id);\n    btn.textContent = 'Add to my library';\n    btn.classList.remove('btn-remove');\n    btn.classList.add('btn-add');\n  } else {\n    library.push(movie); \n    btn.textContent = 'Remove from my library';\n    btn.classList.remove('btn-add');\n    btn.classList.add('btn-remove');\n  }\n\n  localStorage.setItem('library', JSON.stringify(library));\n}\n\n  function getGenreNames(ids) {\n    return ids\n      .map(id => GENRES.find(g => g.id === id)?.name)\n      .filter(Boolean)\n      .join(', ');\n  }\n\n  function renderMovie(movie) {\n    const imageUrl = movie.backdrop_path\n      ? `https://image.tmdb.org/t/p/original/${movie.backdrop_path}`\n      : 'https://via.placeholder.com/500x300?text=No+Image';\n\n    const inLib    = isInLibrary(movie.id);\n    const btnText  = inLib ? 'Remove from my library' : 'Add to my library';\n    const btnClass = inLib ? 'btn-remove' : 'btn-add';\n\n    const genreNames = getGenreNames(movie.genre_ids || []);\n\n    upcomingContainer.innerHTML = `\n      <div class=\"upcoming-card\">\n        <img src=\"${imageUrl}\" alt=\"${movie.title}\" />\n        <div class=\"info\">\n          <h3 class=\"movie-name\">${movie.title}</h3>\n          <div class=\"details-wrapper\">\n            <p class=\"movie-detail\">\n              <span>Release date</span>\n              <span class=\"highlight\">${movie.release_date || 'Unknown'}</span>\n            </p>\n\n            <p class=\"movie-detail\">\n              <span>Vote / Votes</span>\n         \n              <span>\n                <span class=\"vote-box\">${movie.vote_average?.toFixed(1) || '-'}</span>\n                <span>/</span>\n                <span class=\"vote-box\">${movie.vote_count || '-'}</span> \n              </span>\n        \n            </p>\n\n            <p class=\"movie-detail\">\n              <span>Popularity</span>\n              <span>${movie.popularity?.toFixed(1) || '-'}</span>\n            </p>\n\n            <p class=\"movie-detail\">\n              <span>Genre</span>\n              <span>${genreNames || 'Unknown'}</span>\n            </p>\n          </div>\n          <h4 class=\"about-title\">ABOUT</h4>\n          <p class=\"movie-overview\">${movie.overview || 'No description available.'}</p>\n\n          <button id=\"library-btn\" class=\"btn-library ${btnClass}\">${btnText}</button>\n        </div>\n      </div>\n    `;\n\n    const btn = document.getElementById('library-btn');\n    btn?.addEventListener('click', () => toggleLibrary(movie, btn));\n  }\n\n  async function initUpcoming() {\n    try {\n      const genresRes = await fetchGenres();\n      GENRES = genresRes.genres || [];\n\n      const data = await fetchMoviesBetween(startDate, endDate, { region: 'TR' });\n      const movies = data.results || [];\n\n      if (!movies.length) {\n        upcomingContainer.innerHTML = `<p>${movies.length} movies this month.</p>`;\n        return;\n      }\n\n      const randomMovie = movies[Math.floor(Math.random() * movies.length)];\n      renderMovie(randomMovie);\n    } catch (err) {\n      console.error('upcoming init error:', err);\n      upcomingContainer.innerHTML = `<p>Error while fetching movie data.</p>`;\n    }\n  }\n\n  initUpcoming();\n}","import {\n  fetchWeeklyMovies,\n  fetchGenres,\n  fetchMovieDetails,\n} from '../api/api.js';\nimport * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/dist/basicLightbox.min.css';\nlet gallery;\nlet seeAllBtn;\nlet allMovies = [];\nlet isExpanded = false;\nfunction getVisibleCardCount() {\n  const width = window.innerWidth;\n  if (width < 768) return 1;\n  if (width < 1280) return 3;\n  return 3;\n}\nfunction createRatingStars(vote) {\n  const fullStars = Math.floor(vote / 2);\n  const hasHalfStar = vote % 2 >= 1;\n  const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);\n  let stars = [];\n  for (let i = 0; i < fullStars; i++)\n    stars.push(\n      '<svg class=\"icon-full-star\"><use xlink:href=\"../img/icon.svg#icon-full-star\"></use></svg>'\n    );\n  if (hasHalfStar)\n    stars.push(\n      '<svg class=\"icon-half-star\"><use xlink:href=\"../img/icon.svg#icon-half-star\"></use></svg>'\n    );\n  for (let i = 0; i < emptyStars; i++)\n    stars.push(\n      '<svg class=\"icon-empty-star\"><use xlink:href=\"../img/icon.svg#icon-empty-star\"></use></svg>'\n    );\n  return stars.join('');\n}\nfunction toggleLibraryButton(movie, button) {\n  let library = JSON.parse(localStorage.getItem('library')) || [];\n  const isInLibrary = library.some(\n    item => Number(item.id) === Number(movie.id)\n  );\n  if (isInLibrary) {\n    library = library.filter(item => Number(item.id) !== Number(movie.id));\n    button.textContent = 'Add to Library';\n    button.classList.remove('remove-from-library');\n    button.classList.add('library-btn-w');\n  } else {\n    if (!movie.genre_ids && movie.genres) {\n      movie.genre_ids = movie.genres.map(g => g.id);\n    }\n    library.push(movie);\n    button.textContent = 'Remove from my library';\n    button.classList.remove('library-btn-w');\n    button.classList.add('remove-from-library');\n  }\n  localStorage.setItem('library', JSON.stringify(library));\n}\nasync function renderWeeklyTrends(limit = getVisibleCardCount()) {\n  try {\n    const [trendData, genreData] = await Promise.all([\n      fetchWeeklyMovies(),\n      fetchGenres(),\n    ]);\n    allMovies = trendData.results;\n    const genreMap = genreData.genres.reduce((acc, genre) => {\n      acc[genre.id] = genre.name;\n      return acc;\n    }, {});\n    const moviesToShow = allMovies.slice(0, limit);\n    const markup = moviesToShow\n      .map(movie => {\n        const posterUrl = movie.poster_path\n          ? 'https://image.tmdb.org/t/p/w500${movie.poster_path}'\n          : 'https://via.placeholder.com/500x750?text=No+Image';\n        const genreName = movie.genre_ids\n          .map(id => genreMap[id])\n          .slice(0, 1)\n          .join(', ');\n        const year = movie.release_date\n          ? movie.release_date.slice(0, 4)\n          : 'N/A';\n        const ratingStars = createRatingStars(movie.vote_average);\n        return `\n          <li class=\"weekly-card\" data-id=\"${movie.id}\">\n            <div class=\"poster-wrapper\">\n              <img class=\"card-img\" src=\"${posterUrl}\" alt=\"${movie.title}\" />\n              <div class=\"card-overlay\">\n                <h3 class=\"card-title\">${movie.title.toUpperCase()}</h3>\n                <p class=\"card-info\">${genreName} | ${year}</p>\n                <div class=\"card-rating\">${ratingStars}</div>\n              </div>\n            </div>\n          </li>\n        `;\n      })\n      .join('');\n    gallery.innerHTML = markup;\n  } catch (err) {\n    console.error('Weekly trends fetch error:', err);\n    gallery.innerHTML = '<p>Veriler alÄ±namadÄ±.</p>';\n  }\n}\nfunction initWeeklySection() {\n  gallery = document.querySelector('.weekly-gallery');\n  seeAllBtn = document.querySelector('.see-all');\n  if (!gallery || !seeAllBtn) {\n    console.warn('weekly-gallery veya see-all bulunamadÄ±.');\n    return;\n  }\n  // See all butonu\n  seeAllBtn.addEventListener('click', () => {\n    isExpanded = !isExpanded;\n    const count = isExpanded ? allMovies.length : getVisibleCardCount();\n    renderWeeklyTrends(count);\n  });\n  // Kart tÄ±klanmasÄ±yla modal aÃ§ma\n  gallery.addEventListener('click', async e => {\n    const card = e.target.closest('.weekly-card');\n    if (!card) return;\n    const movieId = card.dataset.id;\n    try {\n      const movie = await fetchMovieDetails(movieId);\n      const posterUrl = movie.poster_path\n        ? 'https://image.tmdb.org/t/p/w500${movie.poster_path}'\n        : 'https://via.placeholder.com/500x750?text=No+Image';\n      const genres = movie.genres.map(g => g.name).join(', ');\n      const library = JSON.parse(localStorage.getItem('library')) || [];\n      const inLibrary = library.some(\n        item => Number(item.id) === Number(movie.id)\n      );\n      const popup = basicLightbox.create(\n        `\n        <div class=\"weekly-movie-modal\">\n          <button class=\"popup-close-btn\" aria-label=\"Close\">\n            <svg class=\"icon-close\" width=\"24\" height=\"24\">\n              <use xlink:href=\"../../img/icon.svg#icon-close\"></use>\n            </svg>\n          </button>\n          <img src=\"${posterUrl}\" class=\"modal-poster\" alt=\"${movie.title}\">\n          <div class=\"modal-details\">\n            <h2>${movie.title}</h2>\n            <p><strong>Vote / Votes:</strong> ${movie.vote_average} / ${\n          movie.vote_count\n        }</p>\n            <p><strong>Popularity:</strong> ${movie.popularity}</p>\n            <p><strong>Genre:</strong> ${genres}</p>\n            <h3>ABOUT</h3>\n            <p>${movie.overview}</p>\n            <button class=\"${\n              inLibrary ? 'remove-from-library' : 'library-btn-w'\n            }\">\n              ${inLibrary ? 'Remove from my library' : 'Add to Library'}\n            </button>\n          </div>\n        </div>\n        `,\n        {\n          onShow: instance => {\n            const closeBtn = instance\n              .element()\n              .querySelector('.popup-close-btn');\n            closeBtn.addEventListener('click', () => instance.close());\n            const addBtn = instance\n              .element()\n              .querySelector(\n                'button.remove-from-library, button.library-btn-w'\n              );\n            addBtn.addEventListener('click', () =>\n              toggleLibraryButton(movie, addBtn)\n            );\n          },\n        }\n      );\n      popup.show();\n      function handleEscKey(e) {\n        if (e.key === 'Escape') {\n          popup.close();\n          window.removeEventListener('keydown', handleEscKey);\n        }\n      }\n      window.addEventListener('keydown', handleEscKey);\n    } catch (err) {\n      console.error('Popup aÃ§Ä±lÄ±rken hata:', err);\n    }\n  });\n  renderWeeklyTrends();\n}\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initWeeklySection, {\n    once: true,\n  });\n} else {\n  initWeeklySection();\n}\n","import axios from 'axios';\n\n// ===== LOAD PARTIALS =====\nasync function loadPartials() {\n  const loads = document.querySelectorAll('load[src]');\n  for (const el of loads) {\n    const src = el.getAttribute('src');\n    if (!src) continue;\n    try {\n      const res = await fetch(src);\n      if (!res.ok) {\n        console.error('Partial yÃ¼klenemedi:', src, res.status);\n        continue;\n      }\n      const html = await res.text();\n      const wrapper = document.createElement('div');\n      wrapper.innerHTML = html;\n\n      wrapper.querySelectorAll('script').forEach(old => {\n        const s = document.createElement('script');\n        for (const attr of old.attributes)\n          s.setAttribute(attr.name, attr.value);\n        s.text = old.textContent;\n        old.parentNode.replaceChild(s, old);\n      });\n\n      const frag = document.createDocumentFragment();\n      while (wrapper.firstChild) frag.appendChild(wrapper.firstChild);\n      el.replaceWith(frag);\n    } catch (err) {\n      console.error('Partial fetch hatasÄ±:', src, err);\n    }\n  }\n}\n\n// ===== CONFIGURATION =====\nconst CONFIG = {\n  API_KEY: '0c52aafa16e24577e4a48f6286d3f101',\n  BASE_URL: 'https://api.themoviedb.org/3',\n  IMAGE_BASE_URL: 'https://image.tmdb.org/t/p/w500',\n  IMAGE_BASE_URL_2X: 'https://image.tmdb.org/t/p/w780',\n  BACKDROP_BASE_URL: 'https://image.tmdb.org/t/p/w1280',\n  BACKDROP_BASE_URL_2X: 'https://image.tmdb.org/t/p/w1920',\n  IMAGE_PLACEHOLDER: 'src/images/no-poster.svg',\n  DEFAULT_LANGUAGE: 'en-US',\n  PAGINATION_MAX_BUTTONS: 5,\n  YEAR_SELECT_START: 1980,\n};\n\n// ===== DOM ELEMENTS CACHE =====\nlet DOM;\n\n// ===== APPLICATION STATE =====\nconst AppState = {\n  lastSearch: { input: '', year: '', isSearch: false },\n  currentPage: 1,\n  totalPages: 1,\n  genresCache: [],\n};\n\n// ===== UTILITY FUNCTIONS =====\n\nfunction buildApiUrl(path, params = {}) {\n  const url = new URL(`${CONFIG.BASE_URL}${path}`);\n  url.searchParams.set('api_key', CONFIG.API_KEY);\n\n  Object.keys(params).forEach(key => {\n    const value = params[key];\n    if (value !== '' && value !== null && value !== undefined) {\n      url.searchParams.set(key, value);\n    }\n  });\n\n  return url.toString();\n}\n\nfunction extractYear(releaseDate) {\n  return releaseDate ? releaseDate.split('-')[0] : 'â€”';\n}\n\nfunction getImageUrl(posterPath) {\n  if (!posterPath) return CONFIG.IMAGE_PLACEHOLDER;\n  const baseUrl =\n    window.devicePixelRatio > 1\n      ? CONFIG.IMAGE_BASE_URL_2X\n      : CONFIG.IMAGE_BASE_URL;\n  return baseUrl + posterPath;\n}\n\nfunction getImageSrcset(posterPath) {\n  if (!posterPath) return CONFIG.IMAGE_PLACEHOLDER;\n  const smallUrl = CONFIG.IMAGE_BASE_URL.replace('/w500', '/w300') + posterPath;\n  const largeUrl = CONFIG.IMAGE_BASE_URL + posterPath;\n  return `${smallUrl} 1x, ${largeUrl} 2x`;\n}\n\nfunction getBackdropUrl(backdropPath) {\n  if (!backdropPath) return CONFIG.IMAGE_PLACEHOLDER;\n  const baseUrl =\n    window.devicePixelRatio > 1\n      ? CONFIG.BACKDROP_BASE_URL_2X\n      : CONFIG.BACKDROP_BASE_URL;\n  return baseUrl + backdropPath;\n}\n\n// ===== LOADING STATES =====\n\n/**\n * Shows loading indicator\n */\nfunction showLoader() {\n  const loadingIndicator = document.getElementById('loading-indicator');\n  if (loadingIndicator) {\n    loadingIndicator.style.display = 'flex';\n    loadingIndicator.setAttribute('aria-hidden', 'false');\n  }\n}\n\n/**\n * Hides loading indicator\n */\nfunction hideLoader() {\n  const loadingIndicator = document.getElementById('loading-indicator');\n  if (loadingIndicator) {\n    loadingIndicator.style.display = 'none';\n    loadingIndicator.setAttribute('aria-hidden', 'true');\n  }\n}\n\n// ===== ERROR HANDLING =====\nfunction showErrorMessage(message, type = 'error') {\n  const errorDiv = document.createElement('div');\n  errorDiv.className = `error-message ${type}`;\n  errorDiv.textContent = message;\n  errorDiv.style.cssText = `\n    position: fixed;\n    top: 20px;\n    right: 20px;\n    background: linear-gradient(135deg, rgba(0, 0, 0, 0.9) 0%, rgba(20, 20, 20, 0.95) 100%);\n    color: white;\n    padding: 16px 24px;\n    border-radius: 12px;\n    z-index: 10000;\n    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);\n    backdrop-filter: blur(10px);\n    border: 1px solid rgba(255, 255, 255, 0.1);\n    font-weight: 500;\n  `;\n\n  document.body.appendChild(errorDiv);\n  setTimeout(() => errorDiv.remove(), 5000);\n}\n\n// ===== API FUNCTIONS =====\nasync function fetchTrendingDay() {\n  const url = buildApiUrl('/trending/movie/day');\n  const response = await axios.get(url);\n  return response.data;\n}\n\nasync function fetchTrendingWeek(page = 1) {\n  const url = buildApiUrl('/trending/movie/week', { page });\n  const response = await axios.get(url);\n  return response.data;\n}\n\nasync function fetchMovieDetails(movieId) {\n  const url = buildApiUrl(`/movie/${movieId}`, {\n    language: CONFIG.DEFAULT_LANGUAGE,\n  });\n  const response = await axios.get(url);\n  return response.data;\n}\n\nasync function fetchGenres() {\n  const url = buildApiUrl('/genre/movie/list', {\n    language: CONFIG.DEFAULT_LANGUAGE,\n  });\n  const response = await axios.get(url);\n  return response.data.genres;\n}\n\nasync function fetchMovieVideos(movieId) {\n  try {\n    const url = buildApiUrl(`/movie/${movieId}/videos`, {\n      language: CONFIG.DEFAULT_LANGUAGE,\n    });\n    const response = await axios.get(url);\n    const videos = response.data?.results || [];\n    return videos.filter(\n      video => video.site === 'YouTube' && video.type === 'Trailer'\n    );\n  } catch (error) {\n    console.error('Error fetching movie videos:', error);\n    return [];\n  }\n}\n\nasync function searchMovies(query, year = '', page = 1) {\n  const url = buildApiUrl('/search/movie', {\n    query,\n    year,\n    page,\n    include_adult: false,\n    language: CONFIG.DEFAULT_LANGUAGE,\n  });\n  const response = await axios.get(url);\n  return response.data;\n}\n\n// ===== RENDERING FUNCTIONS =====\nfunction renderStarRating(voteAverage, container) {\n  if (!container) return;\n\n  const rating = voteAverage / 2;\n  const fullStars = Math.floor(rating);\n  const hasHalfStar = rating - fullStars >= 0.5;\n  const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);\n\n  let starsHTML = '';\n\n  // Render full stars\n  for (let i = 0; i < fullStars; i++) {\n    starsHTML +=\n      '<svg class=\"catalog-icon catalog-icon-star\"><use xlink:href=\"../images/symbol-defs.svg#icon-star\"></use></svg>';\n  }\n\n  // Render half star if needed\n  if (hasHalfStar) {\n    starsHTML +=\n      '<svg class=\"catalog-icon catalog-icon-star-half\"><use xlink:href=\"../images/symbol-defs.svg#icon-star-half\"></use></svg>';\n  }\n\n  // Render empty stars\n  for (let i = 0; i < emptyStars; i++) {\n    starsHTML +=\n      '<svg class=\"catalog-icon catalog-icon-star-empty\"><use xlink:href=\"../images/symbol-defs.svg#icon-star-empty\"></use></svg>';\n  }\n\n  container.innerHTML = starsHTML;\n}\n\nfunction renderHeroSection(movie) {\n  const heroSection = document.getElementById('hero');\n  if (!heroSection) return;\n\n  // Use backdrop image for better quality, fallback to poster if no backdrop\n  const bgUrl = movie.backdrop_path\n    ? getBackdropUrl(movie.backdrop_path)\n    : getImageUrl(movie.poster_path);\n\n  // Preload high-quality image\n  const img = new Image();\n  img.onload = function () {\n    heroSection.style.backgroundImage = `url(${bgUrl})`;\n    heroSection.style.backgroundSize = 'cover';\n    heroSection.style.backgroundPosition = 'center';\n    heroSection.style.backgroundRepeat = 'no-repeat';\n    heroSection.style.backgroundAttachment = 'fixed';\n    heroSection.style.transition = 'background-image 0.3s ease';\n  };\n  img.src = bgUrl;\n\n  DOM.heroContent.innerHTML = `\n    <div class=\"hero-info\">\n      <h2 class=\"hero-title\">${movie.title}</h2>\n      <div class=\"rating-stars\" id=\"hero-rating-stars\"></div>\n      <p class=\"hero-overview\">${movie.overview || 'No overview available.'}</p>\n      <div class=\"hero-actions\">\n        <button class=\"btn trailer-btn\" data-id=\"${\n          movie.id\n        }\" aria-label=\"Trailer for ${movie.title}\">\n          Watch trailer\n        </button>\n        <button class=\"btn details-btn\" data-id=\"${\n          movie.id\n        }\" aria-label=\"More details for ${movie.title}\">\n          More details\n        </button>\n      </div>\n    </div>\n  `;\n\n  const heroStarsContainer = document.getElementById('hero-rating-stars');\n  renderStarRating(movie.vote_average || 0, heroStarsContainer);\n}\n\nfunction renderMoviesList(movies) {\n  DOM.moviesUl.innerHTML = '';\n\n  if (!movies || movies.length === 0) {\n    DOM.moviesUl.innerHTML = `\n    <li></li>\n      <li class=\"message\" role=\"status\">\n        <div class=\"error-message-content\">\n          <div>OOPS...</div>\n          <div>We are very sorry!</div>\n          <div>We don't have any results matching your search.</div>\n        </div>\n      </li>\n    `;\n    return;\n  }\n\n  const fragment = document.createDocumentFragment();\n  movies.forEach(movie => {\n    const movieCard = createMovieCard(movie);\n    fragment.appendChild(movieCard);\n  });\n  DOM.moviesUl.appendChild(fragment);\n}\n\nfunction createMovieCard(movie) {\n  const li = document.createElement('li');\n  li.className = 'movie-card';\n\n  // Process genres\n  let genresText = '';\n  if (movie.genres && movie.genres.length > 0) {\n    genresText = movie.genres.map(g => g.name).join(', ');\n  } else if (movie.genre_ids && movie.genre_ids.length > 0) {\n    const genreNames = movie.genre_ids\n      .map(id => {\n        const genre = AppState.genresCache.find(g => g.id === id);\n        return genre ? genre.name : '';\n      })\n      .filter(name => name !== '')\n      .slice(0, 2);\n    genresText = genreNames.join(', ');\n  }\n\n  const releaseYear = extractYear(movie.release_date);\n  const genreAndYear = genresText\n    ? `${genresText} | ${releaseYear}`\n    : releaseYear;\n\n  li.innerHTML = `\n    <div class=\"movie-poster\">\n      <img src=\"${getImageUrl(movie.poster_path)}\"\n           alt=\"${movie.title} poster\"\n           loading=\"lazy\"\n           srcset=\"${getImageSrcset(movie.poster_path)}\" />\n    </div>\n    <div class=\"movie-info\">\n      <div class=\"movie-info-left\">\n        <div class=\"movie-title\">${movie.title}</div>\n        <div class=\"movie-meta\">${genreAndYear}</div>\n      </div>\n      <div class=\"movie-info-right\">\n        <div class=\"catalog-rating-stars\"></div>\n      </div>\n    </div>\n  `;\n\n  const starsContainer = li.querySelector('.catalog-rating-stars');\n  renderStarRating(movie.vote_average || 0, starsContainer);\n\n  return li;\n}\n\nfunction renderPagination(currentPage, totalPages) {\n  // Skip if pagination is deactivated\n  if (!DOM.paginationUl) return;\n\n  DOM.paginationUl.innerHTML = '';\n  AppState.totalPages = totalPages;\n  AppState.currentPage = currentPage;\n\n  if (totalPages <= 1) return;\n\n  const fragment = document.createDocumentFragment();\n\n  // Previous button\n  if (currentPage > 1) {\n    const prevBtn = createPaginationButton('â€¹', false, 'prev');\n    const prevButton = prevBtn.querySelector('button');\n    prevButton.addEventListener('click', () =>\n      handlePageChange(currentPage - 1)\n    );\n    fragment.appendChild(prevBtn);\n  }\n\n  // Calculate page range to show\n  let startPage, endPage;\n\n  if (currentPage <= 3) {\n    startPage = 1;\n    endPage = Math.min(5, totalPages);\n  } else if (currentPage >= totalPages - 2) {\n    startPage = Math.max(1, totalPages - 4);\n    endPage = totalPages;\n  } else {\n    startPage = currentPage - 2;\n    endPage = currentPage + 2;\n  }\n\n  // Render page numbers\n  for (let page = startPage; page <= endPage; page++) {\n    const pageNumber = page.toString().padStart(2, '0');\n    const pageBtn = createPaginationButton(pageNumber, page === currentPage);\n    const button = pageBtn.querySelector('button');\n    button.addEventListener('click', () => handlePageChange(page));\n    fragment.appendChild(pageBtn);\n  }\n\n  // Show ellipsis and last page if there's a gap\n  if (endPage < totalPages - 1) {\n    fragment.appendChild(createPaginationDots());\n    const lastPageNumber = totalPages.toString().padStart(2, '0');\n    const lastPageBtn = createPaginationButton(\n      lastPageNumber,\n      currentPage === totalPages\n    );\n    const lastButton = lastPageBtn.querySelector('button');\n    lastButton.addEventListener('click', () => handlePageChange(totalPages));\n    fragment.appendChild(lastPageBtn);\n  } else if (endPage < totalPages) {\n    const lastPageNumber = totalPages.toString().padStart(2, '0');\n    const lastPageBtn = createPaginationButton(\n      lastPageNumber,\n      currentPage === totalPages\n    );\n    const lastButton = lastPageBtn.querySelector('button');\n    lastButton.addEventListener('click', () => handlePageChange(totalPages));\n    fragment.appendChild(lastPageBtn);\n  }\n\n  // Next button\n  if (currentPage < totalPages) {\n    const nextBtn = createPaginationButton('â€º', false, 'next');\n    const nextButton = nextBtn.querySelector('button');\n    nextButton.addEventListener('click', () =>\n      handlePageChange(currentPage + 1)\n    );\n    fragment.appendChild(nextBtn);\n  }\n\n  DOM.paginationUl.appendChild(fragment);\n}\n\nfunction createPaginationButton(page, isActive = false, type = 'page') {\n  const li = document.createElement('li');\n  const button = document.createElement('button');\n\n  button.className = `page-btn ${type}`;\n  if (isActive) button.classList.add('active');\n  button.textContent = page;\n\n  li.appendChild(button);\n  return li;\n}\n\nfunction createPaginationDots() {\n  const li = document.createElement('li');\n  li.className = 'page-ellipsis';\n  li.textContent = '...';\n  return li;\n}\n\n// ===== MODAL FUNCTIONS =====\nfunction renderTrailerModal(videoKey, title) {\n  const modal = document.createElement('div');\n  modal.className = 'movie-modal';\n\n  modal.innerHTML = `\n    <div class=\"modal-content\">\n      <span class=\"close-modal\" aria-label=\"Close modal\">&times;</span>\n      <div class=\"trailer-container\">\n        <iframe\n          width=\"100%\"\n          height=\"450\"\n          src=\"https://www.youtube.com/embed/${videoKey}?autoplay=1\"\n          title=\"${title} trailer\"\n          frameborder=\"0\"\n          allow=\"autoplay; encrypted-media\"\n          allowfullscreen>\n        </iframe>\n      </div>\n    </div>\n  `;\n\n  document.body.appendChild(modal);\n  setupModalEventListeners(modal);\n}\n\nasync function renderMovieDetailsModal(movieId) {\n  try {\n    const [movie, videos] = await Promise.all([\n      fetchMovieDetails(movieId),\n      fetchMovieVideos(movieId),\n    ]);\n\n    const trailer = videos.length ? videos[0] : null;\n    const genres = movie.genres?.length\n      ? movie.genres.map(g => g.name).join(', ')\n      : 'â€”';\n\n    const modal = document.createElement('div');\n    modal.className = 'movie-modal';\n\n    modal.innerHTML = `\n      <div class=\"modal-content\">\n        <span class=\"close-modal\" aria-label=\"Close modal\">&times;</span>\n\n        <div class=\"modal-header\">\n          <img src=\"${getImageUrl(movie.poster_path)}\" \n               alt=\"${movie.title} poster\"\n               loading=\"lazy\"\n               srcset=\"${getImageSrcset(movie.poster_path)}\" />\n\n          <div class=\"modal-info\">\n            <h2>${movie.title}</h2>\n            <p><strong>Release:</strong> ${extractYear(movie.release_date)}</p>\n            <p><strong>Genres:</strong> ${genres}</p>\n            <p><strong>Rating:</strong> ${\n              movie.vote_average ? movie.vote_average.toFixed(1) : 'No rating'\n            }</p>\n          </div>\n        </div>\n\n        <div class=\"modal-body\">\n          <h3>Overview</h3>\n          <p>${movie.overview || 'No overview available.'}</p>\n\n          ${\n            trailer\n              ? `\n            <div class=\"trailer-container\">\n              <h3>Trailer</h3>\n              <iframe\n                width=\"100%\"\n                height=\"400\"\n                src=\"https://www.youtube.com/embed/${trailer.key}\"\n                title=\"${movie.title} trailer\"\n                frameborder=\"0\"\n                allow=\"autoplay; encrypted-media\"\n                allowfullscreen>\n              </iframe>\n            </div>\n          `\n              : ''\n          }\n        </div>\n      </div>\n    `;\n\n    document.body.appendChild(modal);\n    setupModalEventListeners(modal);\n  } catch (error) {\n    console.error('Error loading movie details:', error);\n    showErrorMessage('Error loading movie details.');\n  }\n}\n\nfunction setupModalEventListeners(modal) {\n  const closeBtn = modal.querySelector('.close-modal');\n  closeBtn.addEventListener('click', () => modal.remove());\n\n  modal.addEventListener('click', e => {\n    if (e.target === modal) modal.remove();\n  });\n}\n\n// ===== MAIN FUNCTIONS =====\nasync function loadTrendingMovies(page = 1) {\n  try {\n    showLoader();\n    DOM.movieListRegion.setAttribute('aria-busy', 'true');\n\n    const [data] = await Promise.all([\n      fetchTrendingWeek(page),\n      new Promise(resolve => setTimeout(resolve, 800)), // Minimum loading time\n    ]);\n\n    AppState.totalPages = data.total_pages || 1;\n\n    // Only render hero section if hero content exists (may be deactivated)\n    if (DOM.heroContent && page === 1) {\n      const firstMovie = data.results?.[0];\n      if (firstMovie) {\n        renderHeroSection(firstMovie);\n      } else {\n        DOM.heroContent.innerHTML = `\n          <div class=\"hero-fall-back\" style=\"\n            text-align: center; \n            padding: 4rem 2rem; \n            background: rgba(0, 0, 0, 0.8); \n            color: #ffffff; \n            font-family: 'Roboto', sans-serif;\n            line-height: 1.6;\n            border-radius: 12px;\n            backdrop-filter: blur(10px);\n          \">\n            <div style=\"font-size: 1.5rem; font-weight: 400; margin-bottom: 0.5rem;\">OOPS...</div>\n            <div style=\"font-size: 1.2rem; font-weight: 400; margin-bottom: 0.5rem;\">We are very sorry!</div>\n            <div style=\"font-size: 1rem; font-weight: 300; opacity: 0.9;\">We don't have any results matching your search.</div>\n          </div>\n        `;\n      }\n    }\n\n    const movies = data.results || [];\n    renderMoviesList(movies);\n    renderPagination(page, AppState.totalPages);\n\n    AppState.lastSearch = { input: '', year: '', isSearch: false };\n  } catch (error) {\n    console.error('Error loading trending movies:', error);\n    showErrorMessage('Failed to load trending movies. Please try again later.');\n  } finally {\n    hideLoader();\n    DOM.movieListRegion.removeAttribute('aria-busy');\n  }\n}\n\nasync function performMovieSearch(query, year = '', page = 1) {\n  if (!query || query.trim() === '') {\n    return loadTrendingMovies();\n  }\n\n  try {\n    showLoader();\n    DOM.movieListRegion.setAttribute('aria-busy', 'true');\n\n    const [data] = await Promise.all([\n      searchMovies(query.trim(), year, page),\n      new Promise(resolve => setTimeout(resolve, 600)), // Minimum loading time\n    ]);\n\n    const movies = data.results || [];\n    renderMoviesList(movies);\n    renderPagination(page, data.total_pages || 1);\n\n    AppState.lastSearch = { input: query, year: year, isSearch: true };\n  } catch (error) {\n    console.error('Error performing search:', error);\n    showErrorMessage('Search failed. Please try again.');\n  } finally {\n    hideLoader();\n    DOM.movieListRegion.removeAttribute('aria-busy');\n  }\n}\n\nfunction handlePageChange(page) {\n  AppState.currentPage = page;\n\n  if (AppState.lastSearch.isSearch) {\n    performMovieSearch(\n      AppState.lastSearch.input,\n      AppState.lastSearch.year,\n      page\n    );\n  } else {\n    loadTrendingMovies(page);\n  }\n\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n}\n\nasync function handleTrailerClick(movieId) {\n  try {\n    const videos = await fetchMovieVideos(movieId);\n\n    if (!videos.length) {\n      showErrorMessage('No trailer available for this movie.', 'warning');\n      return;\n    }\n\n    const trailer = videos[0];\n    renderTrailerModal(trailer.key, trailer.name || 'Trailer');\n  } catch (error) {\n    console.error('Error loading trailer:', error);\n    showErrorMessage('Error loading trailer.');\n  }\n}\n\nasync function handleDetailsClick(movieId) {\n  try {\n    await renderMovieDetailsModal(movieId);\n  } catch (error) {\n    console.error('Error loading movie details:', error);\n    showErrorMessage('Error loading movie details.');\n  }\n}\n\n// ===== EVENT LISTENERS =====\n/**\n * Populates year select dropdown\n */\nfunction populateYearSelect() {\n  if (!DOM.yearSelect) return; // Skip if search is deactivated\n\n  const currentYear = new Date().getFullYear();\n\n  for (let year = currentYear; year >= CONFIG.YEAR_SELECT_START; year--) {\n    const option = document.createElement('option');\n    option.value = year;\n    option.textContent = year;\n    DOM.yearSelect.appendChild(option);\n  }\n}\n\n/**\n * Sets up all event listeners\n */\nfunction setupEventListeners() {\n  // Only setup search-related listeners if search elements exist\n  if (DOM.searchForm && DOM.searchInput && DOM.yearSelect && DOM.clearBtn) {\n    // Search form submission\n    DOM.searchForm.addEventListener('submit', e => {\n      e.preventDefault();\n      const query = DOM.searchInput.value;\n      const year = DOM.yearSelect.value;\n      performMovieSearch(query, year, 1);\n    });\n\n    // Search input changes\n    DOM.searchInput.addEventListener('input', e => {\n      const value = e.target.value;\n      DOM.clearBtn.style.display = value.trim() ? 'flex' : 'none';\n    });\n\n    // Clear button\n    DOM.clearBtn.addEventListener('click', () => {\n      DOM.searchInput.value = '';\n      DOM.clearBtn.style.display = 'none';\n      DOM.yearSelect.value = '';\n      loadTrendingMovies(1);\n    });\n  }\n\n  // Movie action buttons (always setup - these work for modal buttons too)\n  document.addEventListener('click', async e => {\n    const trailerBtn = e.target.closest('.trailer-btn');\n    if (trailerBtn) {\n      const movieId = trailerBtn.dataset.id;\n      if (movieId) {\n        await handleTrailerClick(movieId);\n      }\n      return;\n    }\n\n    const detailsBtn = e.target.closest('.details-btn');\n    if (detailsBtn) {\n      const movieId = detailsBtn.dataset.id;\n      if (movieId) {\n        await handleDetailsClick(movieId);\n      }\n    }\n  });\n}\n\n// ===== INITIALIZATION =====\n/**\n * Initializes the application\n */\nasync function initializeApp() {\n  try {\n    // Initialize DOM elements after partials are loaded\n    DOM = {\n      moviesUl: document.getElementById('movies-ul'),\n      paginationUl: document.getElementById('pagination-ul'),\n      heroContent: document.getElementById('hero-content'), // May be null if deactivated\n      searchForm: document.getElementById('search-form'), // May be null if deactivated\n      searchInput: document.getElementById('search-input'), // May be null if deactivated\n      clearBtn: document.getElementById('clear-btn'), // May be null if deactivated\n      yearSelect: document.getElementById('year-select'), // May be null if deactivated\n      movieListRegion: document.getElementById('movie-list'),\n    };\n\n    // Setup event listeners (search events will be skipped if search is deactivated)\n    setupEventListeners();\n\n    // Only populate year select if search form exists\n    if (DOM.yearSelect) {\n      populateYearSelect();\n    }\n\n    AppState.genresCache = await fetchGenres();\n\n    // Only render hero section if hero content exists\n    if (DOM.heroContent) {\n      const dayData = await fetchTrendingDay();\n      const heroMovie = dayData.results?.[0];\n      if (heroMovie) {\n        renderHeroSection(heroMovie);\n      }\n    }\n\n    await loadTrendingMovies(1);\n  } catch (error) {\n    console.error('Error initializing app:', error);\n    showErrorMessage('Failed to initialize application.');\n  }\n}\n\n// ===== APP STARTUP =====\nasync function startApp() {\n  await loadPartials();\n  initializeApp();\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', startApp);\n} else {\n  startApp();\n}\n"],"names":["students","createStudentItem","student","ensureFooter","footer","renderFooterModal","modal","applyFooterModalResponsiveStyles","modalContent","initFooterModal","openBtn","closeBtn","e","initHeader","initMenu","initSidebar","initTheme","selector","storageKey","menu","savedKey","activeLink","li","_a","key","_b","buttonSel","modalSel","backdropSel","button","backdrop","visible","closeOnBackdrop","toggleSel","iconSel","refs","toggle","icon","navbar","menuButton","links","logoText","body","getRefs","setTheme","theme","isDark","a","obj","el","API_KEY","BASE_URL","DEFAULTS","buildUrl","path","params","url","all","k","v","fetchWeeklyMovies","page","fetchMovieDetails","movieId","fetchGenres","fetchMoviesBetween","startDate","endDate","region","LOCAL_STORAGE_KEY","readLibraryFromStorage","raw","error","writeLibraryToStorage","isInLibrary","addToLibrary","movieObj","lib","removeFromLibrary","modalEl","closeBtnEl","libraryBtn","currentMovieData","closeModal","updateLibraryButton","inLib","movie","toStore","btn","upcomingContainer","getLibrary","id","toggleLibrary","library","item","getGenreNames","ids","GENRES","g","renderMovie","imageUrl","btnText","btnClass","genreNames","now","year","month","lastDay","initUpcoming","movies","randomMovie","err","gallery","seeAllBtn","allMovies","isExpanded","getVisibleCardCount","width","createRatingStars","vote","fullStars","hasHalfStar","emptyStars","stars","i","toggleLibraryButton","renderWeeklyTrends","limit","trendData","genreData","genreMap","acc","genre","markup","posterUrl","genreName","ratingStars","initWeeklySection","count","card","handleEscKey","popup","genres","inLibrary","basicLightbox.create","instance","addBtn","loadPartials","loads","src","res","html","wrapper","old","s","attr","frag","CONFIG","DOM","AppState","buildApiUrl","value","extractYear","releaseDate","getImageUrl","posterPath","getImageSrcset","smallUrl","largeUrl","getBackdropUrl","backdropPath","showLoader","loadingIndicator","hideLoader","showErrorMessage","message","type","errorDiv","fetchTrendingDay","axios","fetchTrendingWeek","fetchMovieVideos","video","searchMovies","query","renderStarRating","voteAverage","container","rating","starsHTML","renderHeroSection","heroSection","bgUrl","img","heroStarsContainer","renderMoviesList","fragment","movieCard","createMovieCard","genresText","name","releaseYear","genreAndYear","starsContainer","renderPagination","currentPage","totalPages","prevBtn","createPaginationButton","handlePageChange","startPage","endPage","pageNumber","pageBtn","createPaginationDots","lastPageNumber","lastPageBtn","nextBtn","isActive","renderTrailerModal","videoKey","title","setupModalEventListeners","renderMovieDetailsModal","videos","trailer","loadTrendingMovies","data","resolve","firstMovie","performMovieSearch","handleTrailerClick","handleDetailsClick","populateYearSelect","currentYear","option","setupEventListeners","trailerBtn","detailsBtn","initializeApp","heroMovie","startApp"],"mappings":"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"}